import{_ as g,B as _,b as f,z as R,s as n,l as d,P as i,d as p,c as r,f as t,t as y,F as v,h as k,x as h,o,A as l}from"./index.4addc2f7.js";const b={setup(){const a=_();f(()=>{c()}),R(()=>{l.account.id&&m()});async function c(){try{await n.getRecipeById(a.params.edamamId)}catch(e){d.error(e),i.error(e.message)}}async function m(){try{await n.getMyRecipes()}catch(e){d.log(e),i.error(e.message)}}return{recipe:p(()=>l.activeRecipe),ingredients:p(()=>l.activeRecipe.ingredients),myRecipes:p(()=>l.myRecipes),async addToMyRecipes(){try{await n.addToMyRecipes(a.params.edamamId),i.toast("Recipe added to your recipes!")}catch(e){d.log(e),i.error(e)}},async archiveRecipe(){try{await i.confirm("Are you sure you want to remove this recipe from your recipe collection?","")&&await n.archiveRecipe(a.params.edamamId)}catch(e){d.log(e.message),i.error(e)}}}}},w={key:0,class:"container-fluid serif-pro"},I={class:"row"},x={class:"col-12 text-center"},M={class:"row"},B=["src"],A={key:0,class:"row"},C=t("h3",{class:"mt-2"},"ingredients",-1),T=t("h3",{class:"mt-2 mb-0"},"Cooking Instructions",-1),P=["href"],S={class:"text-end sticky-bottom"};function D(a,c,m,e,E,F){return e.recipe?(o(),r("div",w,[t("section",I,[t("div",x,[t("h1",null,y(e.recipe.label),1)])]),t("section",M,[t("img",{src:e.recipe.image,alt:"",class:"img-fluid"},null,8,B)]),e.ingredients?(o(),r("section",A,[C,(o(!0),r(v,null,k(e.ingredients,(s,u)=>(o(),r("div",{key:u,class:"col-12"},y(s.text),1))),128)),T,t("a",{class:"",href:e.recipe.uniqueUrl},"Click here for instructions",8,P)])):h("",!0),t("div",S,[e.myRecipes.find(s=>s.edamamId==e.recipe.edamamId&&s.archived==!1)?(o(),r("button",{key:0,onClick:c[0]||(c[0]=s=>e.archiveRecipe()),class:"btn btn-danger",title:"Remove this recipe from your recipe collection"},"Remove Recipe")):(o(),r("button",{key:1,onClick:c[1]||(c[1]=(...s)=>e.addToMyRecipes&&e.addToMyRecipes(...s)),class:"btn btn-success",title:"Add this recipe to your recipe collection!"},"Add Recipe"))])])):h("",!0)}const V=g(b,[["render",D]]);export{V as default};
