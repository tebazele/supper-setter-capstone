import{_ as w,r as x,u as M,b as P,l as v,P as r,d,p as A,A as l,e as k,O as S,M as I,c,f as e,g as h,w as y,F as m,h as g,i as D,j as u,v as _,k as E,o as i,t as b,m as R,n as C}from"./index.4addc2f7.js";import{m as V,d as B}from"./MealPlansService.b279afb4.js";const L={setup(){const n=x({}),s=M();P(()=>{f()});async function f(){try{await V.getMyMealPlans()}catch(a){v.log(a),r.error(a.message)}}return{editable:n,account:d(()=>l.account),myRecipes:d(()=>l.myRecipes),nonArchivedRecipes:d(()=>l.myRecipes.filter(a=>a.archived==!1)),mealPlans:d(()=>l.mealPlans),async goToMealPlan(a){await B.getDays(a),await A.getPlannedMeals(l.activeDays),s.push({name:"MealPlanDetails",params:{mealPlanId:a}})},async editAccount(){try{await k.editAccount(n.value),n.value={},r.toast("Account edited"),S.getOrCreateInstance("#offcanvasExample").hide()}catch(a){v.error(a),r.error(a.message)}}}},components:{MealPlan:I}},o=n=>(R("data-v-980d7391"),n=n(),C(),n),j={class:"container serif-pro"},q={class:"row justify-content-between"},N=o(()=>e("div",{class:"col-6"},[e("h4",{class:"mt-3 raleway"},"My Meal Plans")],-1)),O={class:"col-6 text-end"},T=o(()=>e("button",{class:"btn bg-dark text-white my-3 border border-dark border-1"},"Add MealPlan",-1)),U={class:"row"},F=["onClick"],Y=o(()=>e("hr",null,null,-1)),z={class:"row"},G=o(()=>e("div",{class:"col-12"},[e("h4",{class:"my-1 raleway"},"My Recipes")],-1)),H={class:"pb-1 text-center bg-white my-2 rounded"},J=["src"],K={class:"roboto-slab pt-2"},Q=o(()=>e("section",{class:"row"},[e("div",{class:"col-12"},[e("hr"),e("div",{class:"text-end my-4"},[e("button",{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample",class:"btn btn-outline-dark selectable"},"Edit Your Account Info")])])],-1)),W={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},X=o(()=>e("div",{class:"offcanvas-header"},[e("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Edit Your Account"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),Z={class:"offcanvas-body"},$={class:"mb-3"},ee=o(()=>e("label",{for:"name",class:"form-label"},"Name",-1)),ae={class:"mb-3"},te=o(()=>e("label",{for:"picture",class:"form-label"},"Picture",-1)),se={class:"mb-3"},oe=o(()=>e("label",{for:"bio",class:"form-label"},"Bio",-1)),ne=o(()=>e("button",{class:"btn btn-success mb-1",type:"submit"},"Submit",-1));function le(n,s,f,a,ce,ie){const p=E("router-link");return i(),c(m,null,[e("div",j,[e("section",q,[N,e("div",O,[h(p,{to:{name:"MealPlans"}},{default:y(()=>[T]),_:1})])]),e("section",U,[(i(!0),c(m,null,g(a.mealPlans,t=>(i(),c("div",{key:t.id,class:"col-12 d-flex align-items-baseline justify-content-between"},[e("button",{onClick:de=>this.goToMealPlan(t.id),class:"btn btn-outline-dark bg-primary rounded-pill m-1 same-width"},b(t.name),9,F),e("h6",null,"Created: "+b(new Date(t.createdAt).toLocaleDateString()),1)]))),128))]),Y,e("section",z,[G,(i(!0),c(m,null,g(a.nonArchivedRecipes,t=>(i(),c("div",{key:t.edamamId,class:"col-12"},[h(p,{to:{name:"RecipeDetails",params:{edamamId:t.edamamId}}},{default:y(()=>[e("div",H,[e("img",{src:t.image,class:"recipe-img rounded-top",alt:""},null,8,J),e("h6",K,b(t.label),1)])]),_:2},1032,["to"])]))),128))]),Q]),e("div",W,[X,e("div",Z,[e("form",{onSubmit:s[3]||(s[3]=D(t=>a.editAccount(),["prevent"]))},[e("div",$,[ee,u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.editable.name=t),type:"text",required:"",class:"form-control",id:"name"},null,512),[[_,a.editable.name]])]),e("div",ae,[te,u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.editable.picture=t),type:"text",required:"",class:"form-control",id:"picture"},null,512),[[_,a.editable.picture]])]),e("div",se,[oe,u(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.editable.bio=t),required:"",class:"form-control",id:"bio",rows:"3"},null,512),[[_,a.editable.bio]])]),ne],32)])])],64)}const ue=w(L,[["render",le],["__scopeId","data-v-980d7391"]]);export{ue as default};
